<!DOCTYPE html>
<meta charset="utf-8">
<style>
	body {
		overflow: hidden;
		margin: 0;
	}
	
	text {
		font-family: sans-serif;
		pointer-events: none;
	}
</style>

<body>
	<html>
	Player:<input type="text" id="player" name="player" value="tailuge" /> Pages:
	<input type="text" name="pages" id="pages" value="1" /> Filter:
	<input type="text" name="filter" id="filter" value="" />
	<input type="radio" name="colour" id="colour" value="white" checked> White
	<input type="radio" name="colour" value="black"> Black
	<input type="submit" value="Search" onclick="search()">
	<input type="submit" value="About" onclick="window.open('https://tailuge.github.io/chess-o-tron/','_blank');">
	<div id="status"></div>
	<div id="graph"></div>

	</html>
	<script src="https://code.jquery.com/jquery-3.0.0.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
	<script src="trie-calc.js"></script>
	<script src="trie-d3.js"></script>
	<script src="trie-data.js"></script>
	<script>
		/* globals fetchLichessData processData*/
		function search() {
			var player = document.getElementById("player").value;
			var pages = document.getElementById("pages").value;
			var filter = document.getElementById("filter").value;
			var colour = document.getElementById('colour').checked ? 'white' : 'black';
			console.log("Search:" + player + " " + pages + " " + JSON.stringify(colour));
			fetchLichessData(player, [], pages.split(","), function(data) {
				processData(data, player, colour, filter);
			});
		}
	</script>
</body>
